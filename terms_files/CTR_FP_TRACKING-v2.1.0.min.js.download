!function(t,n){'object'==typeof exports&&'object'==typeof module?module.exports=n():'function'==typeof define&&define.amd?define([],n):'object'==typeof exports?exports.__CTR_FP_TRACKING=n():t.__CTR_FP_TRACKING=n()}(window,function(){return r={},o.m=_=[function(t,n){t.exports=function(t,n,_){return n in t?Object.defineProperty(t,n,{value:_,enumerable:!0,configurable:!0,writable:!0}):t[n]=_,t}},function(n,t){function _(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=_=function(t){return typeof t}:n.exports=_=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}n.exports=_},function(t,n,_){"use strict";_.r(n),_.d(n,"pushUserInfo",function(){return O}),_.d(n,"track",function(){return p}),_.d(n,"trackConversion",function(){return N}),_.d(n,"trackExConversion",function(){return P}),_.d(n,"trackProductPrice",function(){return D}),_.d(n,"getFingerPrintId",function(){return E});var n=_(0),w=_.n(n),n=_(1),o=_.n(n);function C(n,t){var _,r=Object.keys(n);return Object.getOwnPropertySymbols&&(_=Object.getOwnPropertySymbols(n),t&&(_=_.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,_)),r}var i=window.__CTR_FP_TRACKING_SETTINGS&&'dev'===window.__CTR_FP_TRACKING_SETTINGS.MODE?'https://ctrwow-dev-fingerprint-microservice.azurewebsites.net/api':'https://ctrwow-prod-fingerprint-microservice.azurewebsites.net/api',r=window.__CTR_FP_TRACKING_SETTINGS&&'dev'===window.__CTR_FP_TRACKING_SETTINGS.MODE?'https://ctrwowdevuser.blob.core.windows.net/assets/ctrwow_analytics.min.js':'https://d16hdrba6dusey.cloudfront.net/sitecommon/js/commons/ctrwow_analytics.v3.pro.min.js',e=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_GET_CODE?window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_GET_CODE:'',c=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_POST_CODE?window.__CTR_FP_TRACKING_SETTINGS.FP_USERINFO_API_POST_CODE:'',T='PAGE_LOADED',d=window.__CTR_FP_TRACKING_SETTINGS&&window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_ID;function a(){if(window.__CTR_ENV&&'CTR_APP'===window.__CTR_ENV||window.ctrwowUtils&&window.ctrwowUtils.isBuilderMode())throw new Error('Cannot track in ctr_wow app');return 1}function u(t,n){n=n||window.location.href,t=t.replace(/[\[\]]/g,'\\$&');n=new RegExp('[?&]'+t+'(=([^&#]*)|&|#|$)').exec(n);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g,' ')):'':null}function s(t){return t&&'[object Function]'==={}.toString.call(t)}function R(){try{if(!window._CTR_TRACKING_ID)throw new Error('Missing _CTR_TRACKING_ID');if(!r)throw new Error('Missing FP_SCRIPT_SRC');return a(),new Promise(function(n){var t;window.__CTRWOW_FINGER_PRINT_ID?n(window.__CTRWOW_FINGER_PRINT_ID):document.getElementById('_ctr__fp_tracking_script')?window.__CTRWOW_FINGER_PRINT_ID||(t=setInterval(function(){window.__CTRWOW_FINGER_PRINT_ID&&(n(window.__CTRWOW_FINGER_PRINT_ID),clearInterval(t))},0)):(window._CTR_FingerprintGeneratedCallback=function(t){window.__CTRWOW_FINGER_PRINT_ID=t,n(t)},function(){try{window._CTR_FINGERPRINTJS_TOKEN='1xDWTKZNrjpwZjuWUjub';var t=document.createElement('script');t.setAttribute('id','_ctr__fp_tracking_script'),t.setAttribute('src',r),t.setAttribute('async',''),document.head.appendChild(t)}catch(t){console.warn('injectCtrFpTrackingScript error: '+t)}}())})}catch(t){return console.warn('getFingerPrintId error'+t),Promise.reject(!1)}}function I(t,n,_,r){!function(t,n){var _={};if(!t)throw new Error('API URL is missing!');var r={'content-type':'application/json'};return n&&'object'===o()(n)&&(_=Object.assign({method:'GET',headers:n.headers?Object.assign(r,n.headers):r},n)),window.fetch(t,_).then(function(t){if(204===t.status||205===t.status)return null;if(200<=t.status&&t.status<300)return t.text().then(function(t){try{return t?JSON.parse(t):{}}catch(t){return{}}});throw JSON.stringify({status:t.status,statusText:t.statusText,response:t})})}(i+'/'+t,n).then(function(t){s(_)&&_(t)}).catch(function(t){s(r)&&r(t)})}function f(){window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),u('ctr_tracking__affid')?window._CTR_CUSTOM_DATA.affiliateId=u('ctr_tracking__affid'):window.__CTRWOW_CONFIG&&window.__CTRWOW_CONFIG.AFFILIATE_ID&&(window._CTR_CUSTOM_DATA.affiliateId=window.__CTRWOW_CONFIG.AFFILIATE_ID)}function A(){var t=u('ctr_tracking__click_id'),n=u('ctr_tracking__original_click_id');t&&n&&(window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),window._CTR_CUSTOM_DATA.clickId=t,window._CTR_CUSTOM_DATA.originalClickId=n)}function l(t){if(!function(t){if(!window._CTR_TRACKING_ID)throw new Error('Missing TRACKING_ID');if(!t)throw new Error('Tracking Data invalid')}(t),!c)throw new Error('Missing FP_USERINFO_API_POST_CODE');if(!e)throw new Error('Missing FP_USERINFO_API_GET_CODE')}function O(n,_,r){try{l(n),R().then(function(t){I('userinfo/'+t+'?code='+c,{method:'POST',body:JSON.stringify({userInfo:n})},_,r)})}catch(t){return console.warn('CTR_FP_TRACKING error: '+t),!1}return!0}function S(t,n,_,r){try{R().then(function(){window._EA_PUSH(t,n,!!r),_&&_()})}catch(t){console.warn('CTR_FP_TRACKING push event error: '+t)}}d&&(window._CTR_TRACKING_ID=window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_ID,window._CTR_CUSTOM_DATA=JSON.parse(window.__CTR_FP_TRACKING_SETTINGS.FP_TRACKING_CUSTOM_DATA||'{}'));try{d?(f(),A(),window._CTR_TRACKING_ID&&R().then(function(){console.log('init ctr fp tracking'),function(){try{return window.self!==window.top}catch(t){return 1}}()||(S(T),$('a[call-to-action]').on('click',function(t){var n=$(this).attr('payout');window._CTR_CUSTOM_DATA.ctaId=$(this).attr('cta-id'),window._CTR_CUSTOM_DATA.ctaName=$(this).attr('title')||$(this).text()||$(this).attr('id'),window._CTR_CUSTOM_DATA.clickId=$(this).attr('click-id'),window._CTR_CUSTOM_DATA.originalClickId||(window._CTR_CUSTOM_DATA.originalClickId=window._CTR_CUSTOM_DATA.clickId),n&&(window._CTR_CUSTOM_DATA.payout=n),S('CLICK',[],function(){console.log('push CLICK event success'),console.log('push CLICK event success')},!0)}),$('button.ctr_cta_button').on('click',function(t){var n=$(this).attr('payout');window._CTR_CUSTOM_DATA.ctaId=$(this).attr('ctr-cta-id'),window._CTR_CUSTOM_DATA.ctaName=$(this).attr('title')||$(this).attr('name')||$(this).text()||$(this).attr('id'),window._CTR_CUSTOM_DATA.clickId=$(this).attr('ctr-tracking-click-id'),window._CTR_CUSTOM_DATA.originalClickId||(window._CTR_CUSTOM_DATA.originalClickId=window._CTR_CUSTOM_DATA.clickId),n&&(window._CTR_CUSTOM_DATA.payout=n),S('CLICK',[],function(){console.log('push CLICK event success')},!0)}))}).catch(console.warn)):(f(),A(),window._CTR_TRACKING_ID?setInterval(function(){window._EA_PUSH&&window._EA_ID&&window._EA_PUSH(T)},5e3):(window._CTR_TRACKING_ID=u('ctr_tracking__site_id'),S(T)))}catch(t){console.warn('ctr_fp_tracking innit error: ',{e:t})}var p=S,N=function(t,n){try{window._CTR_CUSTOM_DATA.conversionUrl=n,S('CONVERSION',[t||0])}catch(t){console.warn('CTR_FP_TRACKING pushConversion error: '+t)}},P=function(t){try{var n,_,r,o=u('ctr_tracking__site_id'),i=u('ctr_tracking__page_id'),e=u('ctr_tracking__conversion_url'),c=u('ctr_tracking__click_id'),T=u('ctr_tracking__original_click_id');o&&i&&c&&T&&(n=window._CTR_TRACKING_ID,_=window._CTR_IS_SPA,r=window._CTR_CUSTOM_DATA&&function(n){for(var t=1;t<arguments.length;t++){var _=null!=arguments[t]?arguments[t]:{};t%2?C(Object(_),!0).forEach(function(t){w()(n,t,_[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(_)):C(Object(_)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(_,t))})}return n}({},window._CTR_CUSTOM_DATA),window._CTR_CUSTOM_DATA||(window._CTR_CUSTOM_DATA={}),window._CTR_IS_SPA=!0,window._CTR_TRACKING_ID=o,window._CTR_CUSTOM_DATA.conversionUrl=decodeURIComponent(e||''),window._CTR_CUSTOM_DATA.pageId=i,window._CTR_CUSTOM_DATA.siteId=o,window._CTR_CUSTOM_DATA.clickId=c,window._CTR_CUSTOM_DATA.originalClickId=T,S('CONVERSION',[t||0],function(){window._CTR_IS_SPA=_,window._CTR_TRACKING_ID=n,window._CTR_CUSTOM_DATA=r}))}catch(t){console.warn('CTR_FP_TRACKING pushConversion error: '+t)}},D=function(t){try{Object.keys(t)&&(window._CTR_CUSTOM_DATA.oneUnitProductPrice=t,S('PRODUCT_PRICE_LOADED',[]))}catch(t){console.warn('CTR_FP_TRACKING loadProductPrice error: '+t)}},E=R}],o.c=r,o.d=function(t,n,_){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:_})},o.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&'object'==typeof n&&n&&n.__esModule)return n;var _=Object.create(null);if(o.r(_),Object.defineProperty(_,'default',{enumerable:!0,value:n}),2&t&&'string'!=typeof n)for(var r in n)o.d(_,r,function(t){return n[t]}.bind(null,r));return _},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,'a',n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=2);function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return _[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var _,r});