!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.__CTR_FUNNEL_TRACKING=n():t.__CTR_FUNNEL_TRACKING=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},function(t,n,e){"use strict";e.r(n),e.d(n,"trackConversion",(function(){return s})),e.d(n,"trackExConversion",(function(){return _}));var r=e(0),o=e.n(r),i=window.__CTR_FUNNEL_TRACKING_SETTINGS&&"dev"===window.__CTR_FUNNEL_TRACKING_SETTINGS.MODE?"https://ctrwow-dev-api-gateway.azurewebsites.net":"https://api.ctrwow.com";function c(t,n){var e={};if(!t)throw new Error("API URL is missing!");var r={"content-type":"application/json"};return n&&"object"===o()(n)&&(e=Object.assign({method:"GET",headers:n.headers?Object.assign(r,n.headers):r},n)),window.fetch(t,e).then((function(t){if(204===t.status||205===t.status)return null;if(t.status>=200&&t.status<300)return t.text().then((function(t){try{return t?JSON.parse(t):{}}catch(t){return{}}}));throw JSON.stringify({status:t.status,statusText:t.statusText,response:t})}))}function u(t,n){n||(n=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(n);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function a(t){return t&&"[object Function]"==={}.toString.call(t)}function f(){if(!u("ctr_hid"))throw new Error("__CTR_FUNNEL_TRACKING: Missing ctr_hid")}function s(t,n){try{f();var e=u("ctr_hid"),r=u("ctr_payout")||0;c(i+"/funnelConversion?ctr_hid="+e+"&ctr_payout="+r,{method:"POST"}).then((function(n){a(t)&&t(n)})).catch((function(t){a(n)&&n(t)}))}catch(t){return console.warn("__CTR_FUNNEL_TRACKING: trackConversion error: "+t),console.warn("__CTR_FUNNEL_TRACKING: trackConversion error: "+t),!1}return!0}function _(t,n){try{f();var e="ctr_funnel_tracking_"+window.location.origin+window.location.pathname,r=u("ctr_hid"),o=window.localStorage.getItem(e);if(r&&o!=r){var s=u("ctr_hid"),_=u("ctr_payout")||0;c(i+"/funnelConversion?ctr_hid="+s+"&ctr_payout="+_,{method:"POST"}).then((function(n){window.localStorage.setItem(e,r),a(t)&&t(n)})).catch((function(t){a(n)&&n(t)}))}}catch(t){return console.warn("__CTR_FUNNEL_TRACKING: trackConversion error: "+t),!1}return!0}console.log("__CTR_FUNNEL_TRACKING: init")}])}));